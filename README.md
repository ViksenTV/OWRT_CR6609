# Инструкция по установке OpenWRT и Zapret

## Шаги по установке OpenWRT

1. **Скачиваем релиз.**

2. **Распаковываем** `xmir-patcher-main.zip`.

   2.1. Если **Python** не установлен, скачиваем и устанавливаем его.

3. **Запускаем батник** `run.bat`.

   3.1. Выбираем пункт **1** и вводим адрес роутера.

   3.2. Выбираем пункт **2**, устанавливаем эксплоит.

   3.3. Выбираем пункт **6**, устанавливаем загрузчик.

   3.4. Переносим файл `openwrt-23.05.5-ramips-mt7621-xiaomi_mi-router-cr6609-squashfs-firmware.bin` в `\xmir-patcher-main\firmware`.

   3.5. Выбираем пункт **7**, устанавливаем прошивку.

   3.6. Ждем несколько минут и затем **перезагружаем роутер**.

   3.7. **Поздравляю!** Вы прошили OpenWRT!

---

## Дальнейшая инструкция для установки Zapret

4. **Переходим по адресу** `192.168.1.1`, задаем пароль роутера, включаем Wi-Fi и т.д.

5. **Идем в** `Система` - `Пакеты` - жмем **обновить пакеты**.

   5.1. Жмем **установить пакет** и выбираем `zapret_70.20250116_mipsel_24kc.ipk`.

   5.2. Устанавливаем `luci-app-zapret_70.20250116_all.ipk`.

6. **Идем в службы** и настраиваем стратегии обхода под вашего провайдера.

---

## Дальнейшая инструкция для провайдера МГТС

7. **Идем в** `Службы` - `Запрет`.

   7.1. Переходим в настройки и устанавливаем **FlowOffload** в значение **software**.

   7.2. Подключаемся к роутеру по **SSH**.

   7.3. Идем в папку `/opt/zapret`.

   7.4. Переносим туда файлы из `mgts_dpi.rar`.

   7.5. Идем в настройки запрета - `custom.d`, редактируем `custom.d script #50` и вставляем туда скрипт из файла `50-discord.txt`.

   7.6. **Сохраняем всё**, жмем **применить**, и затем **перезапускаем службу**.

   7.7. **Обход должен заработать.**

   7.8. Если обход не работает, значит что-то уже поменялось и нужно искать новую стратегию.



## Свою благодарность можете оставить здесь: https://www.donationalerts.com/r/viksentv
